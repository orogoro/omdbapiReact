{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { fetchMovies, fetchOneMovie } from './operations';\nimport { moviesAction } from './action';\nconst initialState = {\n  data: [],\n  totalResults: null,\n  loading: false\n};\nconst moviesSearchReducer = createReducer(initialState, builder => {\n  builder.addCase(fetchMovies.fulfilled, (state, _ref) => {\n    let {\n      payload\n    } = _ref;\n    if (!payload.Search) {\n      return;\n    }\n    state.data = [...state.data, ...(payload === null || payload === void 0 ? void 0 : payload.Search)];\n    state.totalResults = Number(payload === null || payload === void 0 ? void 0 : payload.totalResults);\n    state.loading = false;\n  }).addCase(fetchMovies.pending, state => {\n    state.loading = true;\n  }).addCase(fetchMovies.rejected, state => {\n    state.loading = false;\n  }).addCase(moviesAction, (state, _ref2) => {\n    let {\n      payload\n    } = _ref2;\n    state.data = payload;\n    state.totalResults = null;\n  });\n});\nconst initialStateManual = {\n  movie: null,\n  loading: false\n};\nconst movieManualReducer = createReducer(initialStateManual, builder => {\n  builder.addCase(fetchOneMovie.fulfilled, (state, _ref3) => {\n    let {\n      payload\n    } = _ref3;\n    state.movie = payload;\n    state.loading = false;\n  }).addCase(fetchOneMovie.pending, state => {\n    state.loading = true;\n  }).addCase(fetchOneMovie.rejected, state => {\n    state.loading = false;\n  });\n});\nconst moviesReducer = combineReducers({\n  moviesSearchReducer,\n  movieManualReducer\n});\nexport { moviesReducer };","map":{"version":3,"names":["combineReducers","createReducer","fetchMovies","fetchOneMovie","moviesAction","initialState","data","totalResults","loading","moviesSearchReducer","builder","addCase","fulfilled","state","_ref","payload","Search","Number","pending","rejected","_ref2","initialStateManual","movie","movieManualReducer","_ref3","moviesReducer"],"sources":["/Users/yuradvornichenko/VSCode/omdbapiReact/src/redux/movies/reducer.ts"],"sourcesContent":["import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { fetchMovies, fetchOneMovie } from './operations';\nimport { moviesAction } from './action';\n\ntype MovieState = {\n  data: any[];\n  totalResults: number | null;\n  loading: boolean;\n};\n\ntype MovieManualState = {\n  movie: null | any;\n  loading: boolean;\n};\n\nconst initialState: MovieState = {\n  data: [],\n  totalResults: null,\n  loading: false,\n};\n\nconst moviesSearchReducer = createReducer(initialState, (builder) => {\n  builder\n    .addCase(fetchMovies.fulfilled, (state, { payload }) => {\n      if (!payload.Search) {\n        return;\n      }\n      state.data = [...state.data, ...payload?.Search];\n      state.totalResults = Number(payload?.totalResults);\n      state.loading = false;\n    })\n    .addCase(fetchMovies.pending, (state) => {\n      state.loading = true;\n    })\n    .addCase(fetchMovies.rejected, (state) => {\n      state.loading = false;\n    })\n    .addCase(moviesAction, (state, { payload }) => {\n      state.data = payload;\n      state.totalResults = null;\n    });\n});\n\nconst initialStateManual: MovieManualState = {\n  movie: null,\n  loading: false,\n};\n\nconst movieManualReducer = createReducer(initialStateManual, (builder) => {\n  builder\n    .addCase(fetchOneMovie.fulfilled, (state, { payload }) => {\n      state.movie = payload;\n      state.loading = false;\n    })\n    .addCase(fetchOneMovie.pending, (state) => {\n      state.loading = true;\n    })\n    .addCase(fetchOneMovie.rejected, (state) => {\n      state.loading = false;\n    });\n});\n\nconst moviesReducer = combineReducers({\n  moviesSearchReducer,\n  movieManualReducer,\n});\n\nexport { moviesReducer };\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,OAAO;AACvC,SAASC,aAAa,QAAQ,kBAAkB;AAChD,OAAO,uCAAuC;AAE9C,SAASC,WAAW,EAAEC,aAAa,QAAQ,cAAc;AACzD,SAASC,YAAY,QAAQ,UAAU;AAavC,MAAMC,YAAwB,GAAG;EAC/BC,IAAI,EAAE,EAAE;EACRC,YAAY,EAAE,IAAI;EAClBC,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,mBAAmB,GAAGR,aAAa,CAACI,YAAY,EAAGK,OAAO,IAAK;EACnEA,OAAO,CACJC,OAAO,CAACT,WAAW,CAACU,SAAS,EAAE,CAACC,KAAK,EAAAC,IAAA,KAAkB;IAAA,IAAhB;MAAEC;IAAQ,CAAC,GAAAD,IAAA;IACjD,IAAI,CAACC,OAAO,CAACC,MAAM,EAAE;MACnB;IACF;IACAH,KAAK,CAACP,IAAI,GAAG,CAAC,GAAGO,KAAK,CAACP,IAAI,EAAE,IAAGS,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,MAAM,EAAC;IAChDH,KAAK,CAACN,YAAY,GAAGU,MAAM,CAACF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAER,YAAY,CAAC;IAClDM,KAAK,CAACL,OAAO,GAAG,KAAK;EACvB,CAAC,CAAC,CACDG,OAAO,CAACT,WAAW,CAACgB,OAAO,EAAGL,KAAK,IAAK;IACvCA,KAAK,CAACL,OAAO,GAAG,IAAI;EACtB,CAAC,CAAC,CACDG,OAAO,CAACT,WAAW,CAACiB,QAAQ,EAAGN,KAAK,IAAK;IACxCA,KAAK,CAACL,OAAO,GAAG,KAAK;EACvB,CAAC,CAAC,CACDG,OAAO,CAACP,YAAY,EAAE,CAACS,KAAK,EAAAO,KAAA,KAAkB;IAAA,IAAhB;MAAEL;IAAQ,CAAC,GAAAK,KAAA;IACxCP,KAAK,CAACP,IAAI,GAAGS,OAAO;IACpBF,KAAK,CAACN,YAAY,GAAG,IAAI;EAC3B,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,MAAMc,kBAAoC,GAAG;EAC3CC,KAAK,EAAE,IAAI;EACXd,OAAO,EAAE;AACX,CAAC;AAED,MAAMe,kBAAkB,GAAGtB,aAAa,CAACoB,kBAAkB,EAAGX,OAAO,IAAK;EACxEA,OAAO,CACJC,OAAO,CAACR,aAAa,CAACS,SAAS,EAAE,CAACC,KAAK,EAAAW,KAAA,KAAkB;IAAA,IAAhB;MAAET;IAAQ,CAAC,GAAAS,KAAA;IACnDX,KAAK,CAACS,KAAK,GAAGP,OAAO;IACrBF,KAAK,CAACL,OAAO,GAAG,KAAK;EACvB,CAAC,CAAC,CACDG,OAAO,CAACR,aAAa,CAACe,OAAO,EAAGL,KAAK,IAAK;IACzCA,KAAK,CAACL,OAAO,GAAG,IAAI;EACtB,CAAC,CAAC,CACDG,OAAO,CAACR,aAAa,CAACgB,QAAQ,EAAGN,KAAK,IAAK;IAC1CA,KAAK,CAACL,OAAO,GAAG,KAAK;EACvB,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,MAAMiB,aAAa,GAAGzB,eAAe,CAAC;EACpCS,mBAAmB;EACnBc;AACF,CAAC,CAAC;AAEF,SAASE,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}