{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { fetchMovies\n// fetchOneMovie,\n} from './operations';\n// import { moviesAction } from './action';\n\n// type MovieManualState = {\n//   movie: null | any;\n//   credits: any[];\n//   posters: any[];\n//   backImg: any[];\n//   reviews: any[];\n//   loading: boolean;\n// };\n\nconst initialState = {\n  data: [],\n  totalResults: null,\n  loading: false\n};\nconst moviesSearchReducer = createReducer(initialState, builder => {\n  builder.addCase(fetchMovies.fulfilled, (state, _ref) => {\n    let {\n      payload\n    } = _ref;\n    state.data = [...state.data, ...payload.Search];\n    state.loading = false;\n    state.totalResults = Number(payload.totalResults);\n  }).addCase(fetchMovies.pending, state => {\n    state.loading = true;\n  }).addCase(fetchMovies.rejected, state => {\n    state.loading = false;\n  });\n});\nconst isLoader = createReducer(false, builder => {\n  builder.addCase(fetchMovies.pending, () => true).addCase(fetchMovies.fulfilled, () => false).addCase(fetchMovies.rejected, () => false);\n});\n\n// const initialStateManual: MovieManualState = {\n//   movie: null,\n//   credits: [],\n//   posters: [],\n//   backImg: [],\n//   reviews: [],\n//   loading: false,\n// };\n\n// const movieManualReducer = createReducer(initialStateManual, (builder) => {\n//   builder\n//     .addCase(fetchOneMovie.fulfilled, (state, { payload }) => {\n//       state.movie = payload;\n//       state.loading = false;\n//     })\n//     .addCase(fetchOneMovie.pending, (state) => {\n//       state.loading = true;\n//     })\n//     .addCase(fetchOneMovie.rejected, (state) => {\n//       state.loading = false;\n//     })\n//     .addCase(fetchCredits.fulfilled, (state, { payload }) => {\n//       state.credits = [...payload?.cast];\n//     })\n//     .addCase(fetchImages.fulfilled, (state, { payload }) => {\n//       state.posters = [...payload?.posters];\n//       state.backImg = [...payload?.backdrops];\n//     })\n//     .addCase(fetchReviews.fulfilled, (state, { payload }) => {\n//       state.reviews = [...payload];\n//     });\n// });\n\nconst moviesReducer = combineReducers({\n  moviesSearchReducer,\n  // movieManualReducer,\n  isLoader\n});\nexport { moviesReducer };","map":{"version":3,"names":["combineReducers","createReducer","fetchMovies","initialState","data","totalResults","loading","moviesSearchReducer","builder","addCase","fulfilled","state","_ref","payload","Search","Number","pending","rejected","isLoader","moviesReducer"],"sources":["/Users/yuradvornichenko/VSCode/omdbapiReact/src/redux/movies/reducer.ts"],"sourcesContent":["import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport {\n  fetchMovies,\n  // fetchOneMovie,\n} from './operations';\n// import { moviesAction } from './action';\n\ntype MovieState = {\n  data: any[];\n  totalResults: number | null;\n  loading: boolean;\n};\n\n// type MovieManualState = {\n//   movie: null | any;\n//   credits: any[];\n//   posters: any[];\n//   backImg: any[];\n//   reviews: any[];\n//   loading: boolean;\n// };\n\nconst initialState: MovieState = {\n  data: [],\n  totalResults: null,\n  loading: false,\n};\n\nconst moviesSearchReducer = createReducer(initialState, (builder) => {\n  builder\n    .addCase(fetchMovies.fulfilled, (state, { payload }) => {\n      state.data = [...state.data, ...payload.Search];\n      state.loading = false;\n      state.totalResults = Number(payload.totalResults);\n    })\n    .addCase(fetchMovies.pending, (state) => {\n      state.loading = true;\n    })\n    .addCase(fetchMovies.rejected, (state) => {\n      state.loading = false;\n    });\n});\n\nconst isLoader = createReducer(false, (builder) => {\n  builder\n    .addCase(fetchMovies.pending, () => true)\n    .addCase(fetchMovies.fulfilled, () => false)\n    .addCase(fetchMovies.rejected, () => false);\n});\n\n// const initialStateManual: MovieManualState = {\n//   movie: null,\n//   credits: [],\n//   posters: [],\n//   backImg: [],\n//   reviews: [],\n//   loading: false,\n// };\n\n// const movieManualReducer = createReducer(initialStateManual, (builder) => {\n//   builder\n//     .addCase(fetchOneMovie.fulfilled, (state, { payload }) => {\n//       state.movie = payload;\n//       state.loading = false;\n//     })\n//     .addCase(fetchOneMovie.pending, (state) => {\n//       state.loading = true;\n//     })\n//     .addCase(fetchOneMovie.rejected, (state) => {\n//       state.loading = false;\n//     })\n//     .addCase(fetchCredits.fulfilled, (state, { payload }) => {\n//       state.credits = [...payload?.cast];\n//     })\n//     .addCase(fetchImages.fulfilled, (state, { payload }) => {\n//       state.posters = [...payload?.posters];\n//       state.backImg = [...payload?.backdrops];\n//     })\n//     .addCase(fetchReviews.fulfilled, (state, { payload }) => {\n//       state.reviews = [...payload];\n//     });\n// });\n\nconst moviesReducer = combineReducers({\n  moviesSearchReducer,\n  // movieManualReducer,\n  isLoader,\n});\n\nexport { moviesReducer };\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,OAAO;AACvC,SAASC,aAAa,QAAQ,kBAAkB;AAChD,OAAO,uCAAuC;AAE9C,SACEC;AACA;AAAA,OACK,cAAc;AACrB;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,YAAwB,GAAG;EAC/BC,IAAI,EAAE,EAAE;EACRC,YAAY,EAAE,IAAI;EAClBC,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,mBAAmB,GAAGN,aAAa,CAACE,YAAY,EAAGK,OAAO,IAAK;EACnEA,OAAO,CACJC,OAAO,CAACP,WAAW,CAACQ,SAAS,EAAE,CAACC,KAAK,EAAAC,IAAA,KAAkB;IAAA,IAAhB;MAAEC;IAAQ,CAAC,GAAAD,IAAA;IACjDD,KAAK,CAACP,IAAI,GAAG,CAAC,GAAGO,KAAK,CAACP,IAAI,EAAE,GAAGS,OAAO,CAACC,MAAM,CAAC;IAC/CH,KAAK,CAACL,OAAO,GAAG,KAAK;IACrBK,KAAK,CAACN,YAAY,GAAGU,MAAM,CAACF,OAAO,CAACR,YAAY,CAAC;EACnD,CAAC,CAAC,CACDI,OAAO,CAACP,WAAW,CAACc,OAAO,EAAGL,KAAK,IAAK;IACvCA,KAAK,CAACL,OAAO,GAAG,IAAI;EACtB,CAAC,CAAC,CACDG,OAAO,CAACP,WAAW,CAACe,QAAQ,EAAGN,KAAK,IAAK;IACxCA,KAAK,CAACL,OAAO,GAAG,KAAK;EACvB,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,MAAMY,QAAQ,GAAGjB,aAAa,CAAC,KAAK,EAAGO,OAAO,IAAK;EACjDA,OAAO,CACJC,OAAO,CAACP,WAAW,CAACc,OAAO,EAAE,MAAM,IAAI,CAAC,CACxCP,OAAO,CAACP,WAAW,CAACQ,SAAS,EAAE,MAAM,KAAK,CAAC,CAC3CD,OAAO,CAACP,WAAW,CAACe,QAAQ,EAAE,MAAM,KAAK,CAAC;AAC/C,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAME,aAAa,GAAGnB,eAAe,CAAC;EACpCO,mBAAmB;EACnB;EACAW;AACF,CAAC,CAAC;AAEF,SAASC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}